<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SPLITT - Mobile Bill Splitter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: '#0a0a0a',
                        surface: '#141414',
                        border: '#2a2a2a',
                        primary: '#8B5CF6',
                        success: '#22c55e',
                        warning: '#facc15',
                        error: '#dc2626',
                        secondary: '#a1a1a1'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: white;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        .screen {
            display: none;
            min-height: 100vh;
            flex-direction: column;
            animation: fadeIn 0.3s ease-out;
        }

        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 60px touch targets */
        .btn-touch {
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            font-weight: 700;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-touch:active {
            transform: scale(0.96);
        }

        /* Animated Receipt Landing */
        .receipt-anim {
            width: 120px;
            height: 160px;
            background: #ffffff;
            border-radius: 4px;
            position: relative;
            animation: receiptFloat 3s ease-in-out infinite;
            margin: 0 auto;
        }

        .receipt-line {
            height: 4px;
            background: #e5e7eb;
            margin: 10px;
            border-radius: 2px;
        }

        @keyframes receiptFloat {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        /* Processing Scanner */
        .scan-line {
            height: 4px;
            background: #8B5CF6;
            width: 100%;
            position: absolute;
            top: 0;
            box-shadow: 0 0 15px #8B5CF6;
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { top: 0%; }
            50% { top: 100%; }
            100% { top: 0%; }
        }

        /* Avatar Bounce */
        .avatar-bounce {
            animation: bounceSmall 2s ease-in-out infinite;
        }

        @keyframes bounceSmall {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        /* Shake animation for claims */
        .shake-haptic {
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        /* Hide scrollbars */
        ::-webkit-scrollbar {
            display: none;
        }

        .gradient-text {
            background: linear-gradient(135deg, #8B5CF6 0%, #d8b4fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-background">

    <!-- 1. LANDING SCREEN -->
    <section id="screen-landing" class="screen active p-6 justify-between">
        <div class="mt-20 text-center">
            <h1 class="text-6xl font-extrabold tracking-tighter mb-2 italic">SPLITT</h1>
            <p class="text-secondary text-lg mb-12">Split bills, stay friends.</p>
            
            <div class="receipt-anim shadow-2xl shadow-primary/20">
                <div class="receipt-line w-3/4"></div>
                <div class="receipt-line w-1/2"></div>
                <div class="receipt-line w-2/3"></div>
                <div class="receipt-line w-1/3"></div>
                <div class="mt-auto absolute bottom-4 left-0 right-0 flex justify-center">
                    <div class="w-8 h-8 rounded-full bg-primary/20"></div>
                </div>
            </div>
        </div>

        <div class="space-y-4 mb-8">
            <button onclick="showScreen('camera')" class="btn-touch w-full bg-primary text-white text-xl">
                New Split
            </button>
            <button onclick="showScreen('lobby')" class="btn-touch w-full bg-surface border border-border text-white text-xl">
                Join Split
            </button>
        </div>
    </section>

    <!-- 2. CAMERA SCREEN -->
    <section id="screen-camera" class="screen p-0 bg-black relative">
        <!-- Mock Viewfinder -->
        <div class="flex-1 bg-zinc-900 flex items-center justify-center relative overflow-hidden">
            <div class="absolute inset-0 opacity-40 bg-[radial-gradient(circle,transparent_20%,#000_100%)]"></div>
            <div class="w-64 h-96 border-2 border-white/20 rounded-3xl relative">
                <div class="absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary rounded-tl-lg"></div>
                <div class="absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary rounded-tr-lg"></div>
                <div class="absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary rounded-bl-lg"></div>
                <div class="absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary rounded-br-lg"></div>
            </div>
            
            <button onclick="showScreen('landing')" class="absolute top-14 left-6 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center border border-white/10">
                <i class="fa-solid fa-chevron-left"></i>
            </button>

            <button class="absolute top-14 right-6 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center border border-white/10">
                <i class="fa-solid fa-bolt"></i>
            </button>
        </div>

        <!-- Camera Controls -->
        <div class="h-40 bg-black flex items-center justify-around px-8">
            <button class="text-white text-2xl opacity-60">
                <i class="fa-regular fa-image"></i>
            </button>
            
            <button onclick="showScreen('processing')" class="w-20 h-20 rounded-full border-4 border-white p-1">
                <div class="w-full h-full rounded-full bg-white active:bg-zinc-300 transition-colors"></div>
            </button>
            
            <div class="w-8"></div> <!-- spacer -->
        </div>
    </section>

    <!-- 3. PROCESSING SCREEN -->
    <section id="screen-processing" class="screen p-6 justify-center items-center text-center">
        <div class="w-64 h-80 bg-surface border border-border rounded-xl relative overflow-hidden mb-12">
            <div class="scan-line"></div>
            <div class="p-6 space-y-4 opacity-30">
                <div class="h-4 bg-zinc-700 w-3/4 rounded"></div>
                <div class="h-4 bg-zinc-700 w-full rounded"></div>
                <div class="h-4 bg-zinc-700 w-1/2 rounded"></div>
                <div class="h-4 bg-zinc-700 w-2/3 rounded"></div>
                <div class="h-4 bg-zinc-700 w-3/4 rounded"></div>
            </div>
        </div>
        
        <h2 class="text-2xl font-bold mb-8">Analyzing Receipt...</h2>
        
        <div class="space-y-6 w-full max-w-xs text-left">
            <div class="flex items-center space-x-4">
                <div class="w-6 h-6 rounded-full bg-success flex items-center justify-center">
                    <i class="fa-solid fa-check text-[10px] text-black"></i>
                </div>
                <span class="text-white font-medium">Image captured</span>
            </div>
            <div class="flex items-center space-x-4">
                <div class="w-6 h-6 rounded-full bg-primary flex items-center justify-center animate-pulse">
                    <div class="w-2 h-2 rounded-full bg-white"></div>
                </div>
                <span class="text-white font-medium">Extracting items...</span>
            </div>
            <div class="flex items-center space-x-4 opacity-30">
                <div class="w-6 h-6 rounded-full border border-border"></div>
                <span class="text-secondary font-medium">Calculating taxes</span>
            </div>
        </div>

        <!-- Auto transition for demo -->
        <script>setTimeout(() => { /* handled by navigation */ }, 2000);</script>
        <button onclick="showScreen('review')" class="mt-12 text-primary font-bold">Skip for Demo â†’</button>
    </section>

    <!-- 4. REVIEW RECEIPT SCREEN -->
    <section id="screen-review" class="screen p-6">
        <div class="flex items-center justify-between mb-8">
            <h2 class="text-3xl font-extrabold">Review</h2>
            <button class="w-12 h-12 bg-surface rounded-full flex items-center justify-center border border-border">
                <i class="fa-solid fa-plus text-primary"></i>
            </button>
        </div>

        <div class="flex-1 space-y-3 overflow-y-auto mb-6">
            <!-- Item -->
            <div class="p-4 bg-surface border border-border rounded-2xl flex items-center justify-between">
                <div>
                    <input type="text" value="Truffle Fries" class="bg-transparent font-bold text-white focus:outline-none block">
                    <span class="text-secondary text-sm">Qty: 1</span>
                </div>
                <div class="flex items-center space-x-4">
                    <input type="text" value="$14.00" class="bg-transparent font-bold text-white text-right w-20 focus:outline-none">
                    <button class="text-error"><i class="fa-solid fa-trash-can"></i></button>
                </div>
            </div>
            <!-- Item -->
            <div class="p-4 bg-surface border border-border rounded-2xl flex items-center justify-between">
                <div>
                    <input type="text" value="Margherita Pizza" class="bg-transparent font-bold text-white focus:outline-none block">
                    <span class="text-secondary text-sm">Qty: 2</span>
                </div>
                <div class="flex items-center space-x-4">
                    <input type="text" value="$32.00" class="bg-transparent font-bold text-white text-right w-20 focus:outline-none">
                    <button class="text-error"><i class="fa-solid fa-trash-can"></i></button>
                </div>
            </div>
            <!-- Item -->
            <div class="p-4 bg-surface border border-border rounded-2xl flex items-center justify-between">
                <div>
                    <input type="text" value="Red Wine Glass" class="bg-transparent font-bold text-white focus:outline-none block">
                    <span class="text-secondary text-sm">Qty: 3</span>
                </div>
                <div class="flex items-center space-x-4">
                    <input type="text" value="$45.00" class="bg-transparent font-bold text-white text-right w-20 focus:outline-none">
                    <button class="text-error"><i class="fa-solid fa-trash-can"></i></button>
                </div>
            </div>
        </div>

        <button onclick="showScreen('lobby')" class="btn-touch w-full bg-primary text-white text-xl mt-auto">
            Confirm Items
        </button>
    </section>

    <!-- 5. LOBBY SCREEN -->
    <section id="screen-lobby" class="screen p-6">
        <div class="text-center mt-10">
            <span class="text-secondary uppercase tracking-[0.2em] font-bold text-sm">Join Code</span>
            <div class="text-6xl font-black mt-2 tracking-tighter text-primary">592 108</div>
            
            <div class="mx-auto mt-8 w-40 h-40 bg-white p-2 rounded-2xl border-4 border-primary">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=SPLITT" alt="QR" class="w-full h-full grayscale">
            </div>
            
            <p class="mt-12 text-secondary font-medium">Waiting for participants...</p>
        </div>

        <div class="mt-8 grid grid-cols-4 gap-6 px-4 overflow-y-auto">
            <div class="flex flex-col items-center space-y-2 avatar-bounce" style="animation-delay: 0.1s">
                <div class="w-14 h-14 rounded-full bg-purple-500 border-2 border-white flex items-center justify-center text-xl font-bold">R</div>
                <span class="text-xs font-bold">Ravi</span>
            </div>
            <div class="flex flex-col items-center space-y-2 avatar-bounce" style="animation-delay: 0.3s">
                <div class="w-14 h-14 rounded-full bg-green-500 border-2 border-white flex items-center justify-center text-xl font-bold">S</div>
                <span class="text-xs font-bold">Sarah</span>
            </div>
            <div class="flex flex-col items-center space-y-2 avatar-bounce" style="animation-delay: 0.5s">
                <div class="w-14 h-14 rounded-full bg-yellow-500 border-2 border-white flex items-center justify-center text-xl font-bold">M</div>
                <span class="text-xs font-bold">Mike</span>
            </div>
            <div class="flex flex-col items-center justify-center space-y-2 opacity-30 border-2 border-dashed border-border rounded-full w-14 h-14 mx-auto">
                <i class="fa-solid fa-user-plus text-xs"></i>
            </div>
        </div>

        <div class="mt-auto pt-8">
            <div class="text-center mb-4 text-xs text-secondary italic">Pull down to refresh participant list</div>
            <button onclick="showScreen('item-select')" class="btn-touch w-full bg-success text-black text-xl">
                Everyone's In
            </button>
        </div>
    </section>

    <!-- 6. ITEM SELECT SCREEN -->
    <section id="screen-item-select" class="screen">
        <div class="p-6 bg-surface/50 border-b border-border sticky top-0 z-10 backdrop-blur-md">
            <h2 class="text-xl font-bold">Select your items</h2>
            <p class="text-secondary text-sm">Tap an item to claim it</p>
        </div>

        <div class="p-6 space-y-4 flex-1">
            <!-- Item Card -->
            <div class="bg-surface border border-border rounded-2xl overflow-hidden" onclick="handleClaim(this)">
                <div class="p-4 flex justify-between items-start">
                    <div>
                        <h3 class="font-bold text-lg">Truffle Fries</h3>
                        <div class="flex mt-2 -space-x-2">
                            <div class="w-6 h-6 rounded-full bg-purple-500 border border-background flex items-center justify-center text-[10px] font-bold">R</div>
                            <div class="w-6 h-6 rounded-full bg-green-500 border border-background flex items-center justify-center text-[10px] font-bold">S</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-xl font-black">$14.00</div>
                        <div class="text-primary text-xs font-bold">Split $7.00</div>
                    </div>
                </div>
                <div class="grid grid-cols-3 border-t border-border">
                    <button class="py-3 text-xs font-bold border-r border-border hover:bg-primary/20 transition-colors">SOLO</button>
                    <button class="py-3 text-xs font-bold border-r border-border bg-primary text-white">SPLIT</button>
                    <button class="py-3 text-xs font-bold hover:bg-primary/20 transition-colors">CUSTOM</button>
                </div>
            </div>

            <!-- Item Card -->
            <div class="bg-surface border border-border rounded-2xl overflow-hidden" onclick="handleClaim(this)">
                <div class="p-4 flex justify-between items-start">
                    <div>
                        <h3 class="font-bold text-lg">Red Wine Glass</h3>
                        <div class="flex mt-2 -space-x-2">
                            <div class="w-6 h-6 rounded-full bg-purple-500 border border-background flex items-center justify-center text-[10px] font-bold">R</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-xl font-black">$15.00</div>
                        <div class="text-secondary text-xs font-bold">Claimed</div>
                    </div>
                </div>
                <div class="grid grid-cols-3 border-t border-border">
                    <button class="py-3 text-xs font-bold border-r border-border bg-primary text-white">SOLO</button>
                    <button class="py-3 text-xs font-bold border-r border-border hover:bg-primary/20 transition-colors">SPLIT</button>
                    <button class="py-3 text-xs font-bold hover:bg-primary/20 transition-colors">CUSTOM</button>
                </div>
            </div>

            <!-- Item Card -->
            <div class="bg-surface border border-border rounded-2xl overflow-hidden opacity-50" onclick="handleClaim(this)">
                <div class="p-4 flex justify-between items-start">
                    <div>
                        <h3 class="font-bold text-lg">Margherita Pizza</h3>
                        <div class="flex mt-2">
                             <span class="text-xs text-secondary italic">Unclaimed</span>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-xl font-black">$16.00</div>
                    </div>
                </div>
                <div class="grid grid-cols-3 border-t border-border">
                    <button class="py-3 text-xs font-bold border-r border-border">SOLO</button>
                    <button class="py-3 text-xs font-bold border-r border-border">SPLIT</button>
                    <button class="py-3 text-xs font-bold">CUSTOM</button>
                </div>
            </div>
        </div>

        <!-- Sticky Footer -->
        <div class="p-6 bg-background border-t border-border sticky bottom-0">
            <div class="flex justify-between items-center mb-4">
                <span class="text-secondary font-bold">My Total</span>
                <span class="text-2xl font-black text-white">$22.00</span>
            </div>
            <button onclick="showScreen('person-review')" class="btn-touch w-full bg-primary text-white text-xl">
                I'm Done claiming
            </button>
        </div>
    </section>

    <!-- 7. PERSON REVIEW SCREEN -->
    <section id="screen-person-review" class="screen p-6">
        <div class="text-center mt-10 mb-10">
            <span class="text-secondary font-bold uppercase tracking-widest text-sm">Your Contribution</span>
            <div class="text-7xl font-black mt-2 tracking-tighter">$28.45</div>
        </div>

        <div class="bg-surface border border-border rounded-3xl p-6 space-y-6">
            <div class="space-y-4">
                <div class="flex justify-between items-center">
                    <span class="text-secondary">Truffle Fries (Split 1/2)</span>
                    <span class="font-bold">$7.00</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-secondary">Red Wine Glass (Solo)</span>
                    <span class="font-bold">$15.00</span>
                </div>
            </div>
            
            <div class="border-t border-border pt-4 space-y-3">
                <div class="flex justify-between items-center text-sm">
                    <span class="text-secondary">Subtotal</span>
                    <span class="text-white font-medium">$22.00</span>
                </div>
                <div class="flex justify-between items-center text-sm">
                    <span class="text-secondary">Tax (8.875%)</span>
                    <span class="text-white font-medium">$1.95</span>
                </div>
                <div class="flex justify-between items-center text-sm">
                    <span class="text-secondary">Suggested Tip (20%)</span>
                    <div class="flex items-center space-x-2">
                        <span class="text-white font-medium">$4.50</span>
                        <i class="fa-solid fa-pen-to-square text-[10px] text-primary"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-auto pt-8">
            <button onclick="showScreen('group-summary')" class="btn-touch w-full bg-primary text-white text-xl">
                Ready to Pay
            </button>
        </div>
    </section>

    <!-- 8. GROUP SUMMARY SCREEN -->
    <section id="screen-group-summary" class="screen p-6">
        <h2 class="text-3xl font-extrabold mb-8">Summary</h2>

        <div class="space-y-4 mb-8">
            <!-- Person -->
            <div class="p-4 bg-surface border border-border rounded-2xl flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 rounded-full bg-purple-500 flex items-center justify-center font-bold">R</div>
                    <div>
                        <div class="font-bold">You</div>
                        <div class="text-xs text-success">Ready</div>
                    </div>
                </div>
                <div class="text-right">
                    <div class="font-black">$28.45</div>
                    <button class="text-[10px] text-primary font-bold uppercase">Pay Now</button>
                </div>
            </div>
            <!-- Person -->
            <div class="p-4 bg-surface border border-border rounded-2xl flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 rounded-full bg-green-500 flex items-center justify-center font-bold">S</div>
                    <div>
                        <div class="font-bold">Sarah</div>
                        <div class="text-xs text-warning">Reviewing...</div>
                    </div>
                </div>
                <div class="text-right">
                    <div class="font-black">$34.12</div>
                </div>
            </div>
            <!-- Person -->
            <div class="p-4 bg-surface border border-border rounded-2xl flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 rounded-full bg-yellow-500 flex items-center justify-center font-bold">M</div>
                    <div>
                        <div class="font-bold">Mike</div>
                        <div class="text-xs text-secondary">Pending claim</div>
                    </div>
                </div>
                <div class="text-right">
                    <div class="font-black">$12.50</div>
                </div>
            </div>
        </div>

        <div class="mt-auto space-y-4">
            <div class="bg-primary/10 border border-primary/20 p-4 rounded-2xl">
                <div class="flex justify-between items-center">
                    <span class="text-primary font-bold">Total Bill Collected</span>
                    <span class="font-black text-white">$28.45 / $107.50</span>
                </div>
                <div class="w-full bg-zinc-800 h-2 mt-2 rounded-full overflow-hidden">
                    <div class="bg-primary h-full w-[26%]"></div>
                </div>
            </div>
            
            <button onclick="showScreen('landing')" class="btn-touch w-full bg-surface border border-border text-white text-xl">
                Back to Home
            </button>
        </div>
    </section>

    <script>
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(s => {
                s.classList.remove('active');
            });
            // Show requested screen
            const target = document.getElementById('screen-' + screenId);
            if (target) {
                target.classList.add('active');
                window.scrollTo(0, 0);
            }
        }

        function handleClaim(element) {
            // Visual feedback (shake/haptic)
            element.classList.add('shake-haptic');
            setTimeout(() => {
                element.classList.remove('shake-haptic');
                element.classList.remove('opacity-50');
            }, 400);
        }
    </script>
</body>
</html>
